<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Tech & Games Collection</title>

<style>
/* ===== ORIGINAL UI (UNCHANGED) ===== */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',system-ui;background:#0f0f23;color:#e0e0e0}
.sidebar{position:fixed;left:0;top:0;width:250px;height:100vh;background:#1a1a2e;padding:30px 20px;border-right:1px solid #2a2a3e}
.logo{font-size:24px;font-weight:800;margin-bottom:40px;background:linear-gradient(45deg,#00f5ff,#ff00e5);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-item{padding:15px 20px;margin-bottom:10px;border-radius:10px;cursor:pointer;display:flex;gap:12px}
.nav-item.active{background:#00f5ff22;border-left:3px solid #00f5ff}
.main-content{margin-left:250px;padding:40px}
.section{display:none}
.section.active{display:block}
.header h1{font-size:36px;background:linear-gradient(45deg,#00f5ff,#ff00e5);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:30px 0}
.stat-box{background:#16213e;border-radius:15px;padding:25px;border:1px solid #2a2a3e}
.stat-label{font-size:13px;color:#888}
.stat-value{font-size:32px;color:#00f5ff}
.add-card{background:#1a1a2e;border:2px dashed #2a2a3e;border-radius:15px;padding:30px;margin-bottom:30px}
.items-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}
.item-card{background:#16213e;border-radius:15px;padding:25px;border:1px solid #2a2a3e}
.btn{background:linear-gradient(45deg,#00f5ff,#ff00e5);border:none;padding:14px 30px;border-radius:8px;color:#fff;font-weight:600;cursor:pointer}
.delete-icon{background:#ff4444;border:none;width:35px;height:35px;border-radius:8px;color:#fff;font-size:18px;cursor:pointer}
</style>
</head>

<body>

<div class="sidebar">
    <div class="logo">ðŸš€ MyCollection</div>
    <div class="nav-item active" onclick="showSection('dashboard')">ðŸ“Š Dashboard</div>
    <div class="nav-item" onclick="showSection('gadgets')">ðŸ“± Gadgets</div>
    <div class="nav-item" onclick="showSection('games')">ðŸŽ® Games</div>
</div>

<div class="main-content">

<div id="dashboard" class="section active">
    <div class="header">
        <h1>Dashboard</h1>
        <p>Your complete tech & gaming overview</p>
    </div>

    <div class="dashboard-grid">
        <div class="stat-box"><div class="stat-label">Total Gadgets</div><div class="stat-value" id="dash-total-gadgets">0</div></div>
        <div class="stat-box"><div class="stat-label">Gadget Value</div><div class="stat-value" id="dash-gadgets-value">â‚¹0</div></div>
        <div class="stat-box"><div class="stat-label">Total Games</div><div class="stat-value" id="dash-total-games">0</div></div>
        <div class="stat-box"><div class="stat-label">Games Profit</div><div class="stat-value" id="dash-games-profit">â‚¹0</div></div>
    </div>
</div>

<div id="gadgets" class="section">
    <div class="header"><h1>Gadgets</h1></div>
    <div class="add-card">
        <input id="g-name" placeholder="Gadget name"><br><br>
        <input id="g-price" type="number" placeholder="Price"><br><br>
        <button class="btn" onclick="addGadget()">Add Gadget</button>
    </div>
    <div class="items-grid" id="gadgets-list"></div>
</div>

<div id="games" class="section">
    <div class="header"><h1>Games</h1></div>
    <div class="add-card">
        <input id="gm-title" placeholder="Game title"><br><br>
        <input id="gm-buy-price" type="number" placeholder="Buy price"><br><br>
        <input id="gm-sell-price" type="number" placeholder="Sell price (optional)"><br><br>
        <button class="btn" onclick="addGame()">Add Game</button>
    </div>
    <div class="items-grid" id="games-list"></div>
</div>

</div>

<!-- ================= FIREBASE + LOGIC ================= -->
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs, addDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAJtyDC0fI_AzGcKxVHBvF-Focs4doWxMM",
  authDomain: "tech-tracker-87dbc.firebaseapp.com",
  projectId: "tech-tracker-87dbc",
  storageBucket: "tech-tracker-87dbc.firebasestorage.app",
  messagingSenderId: "446800872416",
  appId: "1:446800872416:web:8d094886bf870c9669a185"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let gadgets=[], games=[];

window.showSection = function(section){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById(section).classList.add('active');
};

window.addGadget = async function(){

    const name = document.getElementById("g-name").value;
    const price = Number(document.getElementById("g-price").value);

    if (!name || isNaN(price)) return;

    const g = {
        id: Date.now(),
        name,
        price
    };

    const ref = await addDoc(collection(db,"gadgets"), g);
    g.firebaseId = ref.id;

    gadgets.push(g);
    render();
};

window.addGame = async function(){

    const title = document.getElementById("gm-title").value;
    const buy = Number(document.getElementById("gm-buy-price").value);
    const sellRaw = document.getElementById("gm-sell-price").value;

    if (!title || isNaN(buy)) return;

    const game = {
        id: Date.now(),
        title,
        buy,
        sell: sellRaw ? Number(sellRaw) : null
    };

    const ref = await addDoc(collection(db,"games"), game);
    game.firebaseId = ref.id;

    games.push(game);
    render();
};

async function loadData(){
    gadgets=[];games=[];
    (await getDocs(collection(db,"gadgets"))).forEach(d=>gadgets.push({firebaseId:d.id,...d.data()}));
    (await getDocs(collection(db,"games"))).forEach(d=>games.push({firebaseId:d.id,...d.data()}));
    render();
}

function render(){

    // Gadgets list
    document.getElementById("gadgets-list").innerHTML =
        gadgets.map(g => `
            <div class="item-card">${g.name} â€“ â‚¹${g.price}</div>
        `).join("");

    // Games list
    document.getElementById("games-list").innerHTML =
        games.map(g => `
            <div class="item-card">${g.title} â€“ â‚¹${g.buy}</div>
        `).join("");

    // Dashboard stats
    document.getElementById("dash-total-gadgets").textContent = gadgets.length;

    document.getElementById("dash-gadgets-value").textContent =
        "â‚¹" + gadgets.reduce((sum, g) => sum + g.price, 0);

    document.getElementById("dash-total-games").textContent = games.length;
}

loadData();

</script>

</body>
</html>
