<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MyCollection</title>

<style>
body{background:#0f0f23;color:#fff;font-family:Arial}
.sidebar{width:220px;position:fixed;height:100%;background:#1a1a2e;padding:20px}
.main{margin-left:240px;padding:20px}
.section{display:none}
.section.active{display:block}
.card{background:#16213e;padding:15px;margin:10px;border-radius:8px}
button{padding:10px;background:#00f5ff;border:none;cursor:pointer}
</style>
</head>

<body>

<div class="sidebar">
<h2>ðŸš€ MyCollection</h2>
<div onclick="showSection('dash')">Dashboard</div>
<div onclick="showSection('gad')">Gadgets</div>
<div onclick="showSection('gam')">Games</div>
</div>

<div class="main">

<div id="dash" class="section active">
<h2>Dashboard</h2>
<div>Total Gadgets: <span id="totalG">0</span></div>
<div>Total Games: <span id="totalGa">0</span></div>
</div>

<div id="gad" class="section">
<h2>Gadgets</h2>
<input id="gName" placeholder="Name">
<input id="gPrice" type="number" placeholder="Price">
<button onclick="addGadget()">Add</button>
<div id="gadList"></div>
</div>

<div id="gam" class="section">
<h2>Games</h2>
<input id="gmTitle" placeholder="Title">
<input id="gmBuy" type="number" placeholder="Buy">
<input id="gmSell" type="number" placeholder="Sell">
<button onclick="addGame()">Add</button>
<div id="gamList"></div>
</div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
 apiKey:"AIzaSyAJtyDC0fI_AzGcKxVHBvF-Focs4doWxMM",
 authDomain:"tech-tracker-87dbc.firebaseapp.com",
 projectId:"tech-tracker-87dbc"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

let gadgets=[];
let games=[];

window.showSection=function(s){
 document.querySelectorAll(".section").forEach(x=>x.classList.remove("active"));
 document.getElementById(s).classList.add("active");
};

window.addGadget=async function(){
 let name=document.getElementById("gName").value;
 let price=Number(document.getElementById("gPrice").value);
 if(!name||!price)return;

 let obj={name,price};
 await addDoc(collection(db,"gadgets"),obj);
 gadgets.push(obj);
 render();
};

window.addGame=async function(){
 let title=document.getElementById("gmTitle").value;
 let buy=Number(document.getElementById("gmBuy").value);
 let sellRaw=document.getElementById("gmSell").value;
 let sell=sellRaw?Number(sellRaw):null;
 if(!title||!buy)return;

 let obj={title,buy,sell};
 await addDoc(collection(db,"games"),obj);
 games.push(obj);
 render();
};

async function load(){
 let g=await getDocs(collection(db,"gadgets"));
 g.forEach(d=>gadgets.push(d.data()));

 let gm=await getDocs(collection(db,"games"));
 gm.forEach(d=>games.push(d.data()));

 render();
}

function render(){
 document.getElementById("gadList").innerHTML=
 gadgets.map(x=>`<div class="card">${x.name} â‚¹${x.price}</div>`).join("");

 document.getElementById("gamList").innerHTML=
 games.map(x=>`<div class="card">${x.title} â‚¹${x.buy}</div>`).join("");

 document.getElementById("totalG").textContent=gadgets.length;
 document.getElementById("totalGa").textContent=games.length;
}

load();

</script>

</body>
</html>
